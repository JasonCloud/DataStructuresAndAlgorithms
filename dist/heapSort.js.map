{"version":3,"file":"heapSort.js","sources":["../src/util.js","../src/algorithms/sorting/heapSort.js"],"sourcesContent":["/**\r\n * @Description:\r\n * @Author:  wuenyou\r\n * @Date: 2020/11/18\r\n * @LastEditors:\r\n * @LastEditTime: 2020/11/18\r\n */\r\nexport const defaultEquals = function (a, b) {\r\n\treturn a === b\r\n}\r\nexport const COMPARE = {\r\n\tEQUAL: 0,\r\n\tLESS_THAN: -1,\r\n\tBIGGER_THAN: 1\r\n}\r\nexport const BALANCEFACTOR = {\r\n\tUNBALANCED_RIGHT: 1,\r\n\tSLIGHTLY_UNBALANCED_RIGHT: 2,\r\n\tBALANCED: 3,\r\n\tSLIGHTLY_UNBALANCED_LEFT: 4,\r\n\tUNBALANCED_LEFT: 5\r\n};\r\nexport function reverseCompare(compareFn) {\r\n\treturn (a, b) => compareFn(b, a);\r\n}\r\nexport function defaultCompare(a, b) {\r\n\tif (a === b) {\r\n\t\treturn COMPARE.EQUAL;\r\n\t} else if (a < b) {\r\n\t\treturn COMPARE.LESS_THAN;\r\n\t} else {\r\n\t\treturn COMPARE.BIGGER_THAN;\r\n\t}\r\n}\r\nexport function\tkeyToString(str) {\r\n\tif (str === null) {\r\n\t\treturn 'null';\r\n\t} else if (str === undefined) {\r\n\t\treturn 'undefined';\r\n\t} else if(typeof str === 'function') {\r\n\t\treturn str.toString();\r\n\t}\r\n\treturn JSON.stringify(str)\r\n}\r\nexport function swap(arr, index1, index2) {\r\n\t[arr[index1], arr[index2]] = [arr[index2], arr[index1]];\r\n}\r\n","/**\r\n * @Description:\r\n * @Author:  wuenyou\r\n * @Date: 2020/12/16\r\n * @LastEditors:\r\n * @LastEditTime: 2020/12/16\r\n */\r\n\r\nimport { defaultCompare, swap } from '../../util';\r\n\r\nfunction heapify(array, index, heapSize, compareFn) {\r\n\tlet largest = index;\r\n\tconst left = (2 * index) + 1;\r\n\tconst right = (2 * index) + 2;\r\n\tif (left < heapSize && compareFn(array[left], array[index]) > 0) {\r\n\t\tlargest = left;\r\n\t}\r\n\tif (right < heapSize && compareFn(array[right], array[largest]) > 0) {\r\n\t\tlargest = right;\r\n\t}\r\n\tif (largest !== index) {\r\n\t\tswap(array, index, largest);\r\n\t\theapify(array, largest, heapSize, compareFn);\r\n\t}\r\n}\r\n\r\nfunction buildMaxHeap(array, compareFn) {\r\n\tfor (let i = Math.floor(array.length / 2); i >= 0; i -= 1) {\r\n\t\theapify(array, i, array.length, compareFn);\r\n\t}\r\n\treturn array;\r\n}\r\n\r\nexport default function heapSort(array, compareFn = defaultCompare) {\r\n\tlet heapSize = array.length;\r\n\tbuildMaxHeap(array, compareFn);\r\n\twhile (heapSize > 1) {\r\n\t\tswap(array, 0, --heapSize);\r\n\t\theapify(array, 0, heapSize, compareFn);\r\n\t}\r\n\treturn array;\r\n}\r\n"],"names":["COMPARE","EQUAL","LESS_THAN","BIGGER_THAN","defaultCompare","a","b","swap","arr","index1","index2","heapify","array","index","heapSize","compareFn","largest","left","right","buildMaxHeap","i","Math","floor","length","heapSort"],"mappings":";;;;;;CAAA;CACA;CACA;CACA;CACA;CACA;CACA;CAIO,MAAMA,OAAO,GAAG;CACtBC,EAAAA,KAAK,EAAE,CADe;CAEtBC,EAAAA,SAAS,EAAE,CAAC,CAFU;CAGtBC,EAAAA,WAAW,EAAE;CAHS,CAAhB;CAeA,SAASC,cAAT,CAAwBC,CAAxB,EAA2BC,CAA3B,EAA8B;CACpC,MAAID,CAAC,KAAKC,CAAV,EAAa;CACZ,WAAON,OAAO,CAACC,KAAf;CACA,GAFD,MAEO,IAAII,CAAC,GAAGC,CAAR,EAAW;CACjB,WAAON,OAAO,CAACE,SAAf;CACA,GAFM,MAEA;CACN,WAAOF,OAAO,CAACG,WAAf;CACA;CACD;CAWM,SAASI,IAAT,CAAcC,GAAd,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmC;CACzC,GAACF,GAAG,CAACC,MAAD,CAAJ,EAAcD,GAAG,CAACE,MAAD,CAAjB,IAA6B,CAACF,GAAG,CAACE,MAAD,CAAJ,EAAcF,GAAG,CAACC,MAAD,CAAjB,CAA7B;CACA;;CC9CD;CACA;CACA;CACA;CACA;CACA;CACA;;CAIA,SAASE,OAAT,CAAiBC,KAAjB,EAAwBC,KAAxB,EAA+BC,QAA/B,EAAyCC,SAAzC,EAAoD;CACnD,MAAIC,OAAO,GAAGH,KAAd;CACA,QAAMI,IAAI,GAAI,IAAIJ,KAAL,GAAc,CAA3B;CACA,QAAMK,KAAK,GAAI,IAAIL,KAAL,GAAc,CAA5B;;CACA,MAAII,IAAI,GAAGH,QAAP,IAAmBC,SAAS,CAACH,KAAK,CAACK,IAAD,CAAN,EAAcL,KAAK,CAACC,KAAD,CAAnB,CAAT,GAAuC,CAA9D,EAAiE;CAChEG,IAAAA,OAAO,GAAGC,IAAV;CACA;;CACD,MAAIC,KAAK,GAAGJ,QAAR,IAAoBC,SAAS,CAACH,KAAK,CAACM,KAAD,CAAN,EAAeN,KAAK,CAACI,OAAD,CAApB,CAAT,GAA0C,CAAlE,EAAqE;CACpEA,IAAAA,OAAO,GAAGE,KAAV;CACA;;CACD,MAAIF,OAAO,KAAKH,KAAhB,EAAuB;CACtBN,IAAAA,IAAI,CAACK,KAAD,EAAQC,KAAR,EAAeG,OAAf,CAAJ;CACAL,IAAAA,OAAO,CAACC,KAAD,EAAQI,OAAR,EAAiBF,QAAjB,EAA2BC,SAA3B,CAAP;CACA;CACD;;CAED,SAASI,YAAT,CAAsBP,KAAtB,EAA6BG,SAA7B,EAAwC;CACvC,OAAK,IAAIK,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWV,KAAK,CAACW,MAAN,GAAe,CAA1B,CAAb,EAA2CH,CAAC,IAAI,CAAhD,EAAmDA,CAAC,IAAI,CAAxD,EAA2D;CAC1DT,IAAAA,OAAO,CAACC,KAAD,EAAQQ,CAAR,EAAWR,KAAK,CAACW,MAAjB,EAAyBR,SAAzB,CAAP;CACA;;CACD,SAAOH,KAAP;CACA;;CAEc,SAASY,QAAT,CAAkBZ,KAAlB,EAAyBG,SAAS,GAAGX,cAArC,EAAqD;CACnE,MAAIU,QAAQ,GAAGF,KAAK,CAACW,MAArB;CACAJ,EAAAA,YAAY,CAACP,KAAD,EAAQG,SAAR,CAAZ;;CACA,SAAOD,QAAQ,GAAG,CAAlB,EAAqB;CACpBP,IAAAA,IAAI,CAACK,KAAD,EAAQ,CAAR,EAAW,EAAEE,QAAb,CAAJ;CACAH,IAAAA,OAAO,CAACC,KAAD,EAAQ,CAAR,EAAWE,QAAX,EAAqBC,SAArB,CAAP;CACA;;CACD,SAAOH,KAAP;CACA;;;;;;;;"}