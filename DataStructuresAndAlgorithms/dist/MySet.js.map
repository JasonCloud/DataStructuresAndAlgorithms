{"version":3,"file":"MySet.js","sources":["../src/MySet.js"],"sourcesContent":["/**\r\n * @Description:\r\n * @Author:  wuenyou\r\n * @Date: 2020/11/26\r\n * @LastEditors:\r\n * @LastEditTime: 2020/11/26\r\n */\r\nexport default class MySet {\r\n\tconstructor() {\r\n\t\tthis.items = {};\r\n\t}\r\n\tadd(element) {\r\n\t\tconst key = this.keyToString(element);\r\n\t\tif(!this.has(element)) {\r\n\t\t\tthis.items[key] = element;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tdelete(element) {\r\n\t\tif(this.has(element)) {\r\n\t\t\tdelete this.items[this.keyToString(element)];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tkeyToString(str) {\r\n\t\tif (str === null) {\r\n\t\t\treturn 'null';\r\n\t\t} else if (str === undefined) {\r\n\t\t\treturn 'undefined';\r\n\t\t} else if(typeof str === 'function') {\r\n\t\t\treturn str.toString();\r\n\t\t}\r\n\t\treturn JSON.stringify(str)\r\n\t}\r\n\thas(element) {\r\n\t\treturn Object.prototype.hasOwnProperty.call(this.items, this.keyToString(element));\r\n\t}\r\n\tclear() {\r\n\t\tthis.items = {};\r\n\t\treturn true;\r\n\t}\r\n\tsize() {\r\n\t\treturn Object.keys(this.items).length;\r\n\t}\r\n\tvalues() {\r\n\t\treturn Object.values(this.items);\r\n\t}\r\n\t// 并集\r\n\tunion(otherSet) {\r\n\t\tconst unionSet = new MySet();\r\n\t\tconst values = this.values();\r\n\t\tconst otherSetValues = otherSet.values();\r\n\t\tfor (let i = 0; i < values.length; i++) {\r\n\t\t\tunionSet.add(values[i]);\r\n\t\t}\r\n\t\tfor (let i = 0; i < otherSetValues.length; i++) {\r\n\t\t\tunionSet.add(otherSetValues[i]);\r\n\t\t}\r\n\t\treturn unionSet;\r\n\t}\r\n\t// 交集\r\n\tintersection(otherSet) {\r\n\t\tconst intersectionSet = new MySet();\r\n\t\tconst values = this.values();\r\n\t\tconst otherSetValues = otherSet.values();\r\n\t\tconst lenSelf = values.length;\r\n\t\tconst lenOther = otherSetValues.length;\r\n\t\tif (lenSelf < lenOther) {\r\n\t\t\tfor (let i = 0; i < lenSelf; i++) {\r\n\t\t\t\tif(otherSet.has(values[i])){\r\n\t\t\t\t\tintersectionSet.add(values[i])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (let i = 0; i < lenOther; i++) {\r\n\t\t\t\tif(this.has(otherSetValues[i])){\r\n\t\t\t\t\tintersectionSet.add(otherSetValues[i])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn intersectionSet;\r\n\t}\r\n\t// 差集\r\n\tdifference(otherSet) {\r\n\t\tconst differenceSet = new MySet();\r\n\t\tthis.values().forEach(v => {\r\n\t\t\tif(!otherSet.has(v)) {\r\n\t\t\t\tdifferenceSet.add(v);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn differenceSet;\r\n\t}\r\n\t// 子集\r\n\tisChildSet(otherSet) {\r\n\t\tif (this.size() > otherSet.size()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlet res = false;\r\n\t\totherSet.values().every(v => {\r\n\t\t\tif (!otherSet.has(v)) {\r\n\t\t\t\tres = false;\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t})\r\n\t\treturn res;\r\n\t}\r\n}\r\n"],"names":["MySet","constructor","items","add","element","key","keyToString","has","delete","str","undefined","toString","JSON","stringify","Object","prototype","hasOwnProperty","call","clear","size","keys","length","values","union","otherSet","unionSet","otherSetValues","i","intersection","intersectionSet","lenSelf","lenOther","difference","differenceSet","forEach","v","isChildSet","res","every"],"mappings":"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"}