{"version":3,"file":"CircularLinkedList.js","sources":["../src/util.js","../src/Node.js","../src/LinkedList.js","../src/CircularLinkedList.js"],"sourcesContent":["/**\r\n * @Description:\r\n * @Author:  wuenyou\r\n * @Date: 2020/11/18\r\n * @LastEditors:\r\n * @LastEditTime: 2020/11/18\r\n */\r\nexport const defaultEquals = function (a, b) {\r\n\treturn a === b\r\n}\r\nconst COMPARE = {\r\n\tEQUAL: 0,\r\n\tLESS_THAN: -1,\r\n\tBIGGER_THAN: 1\r\n}\r\nexport function defaultCompare(a, b) {\r\n\tif (a === b) {\r\n\t\treturn COMPARE.EQUAL;\r\n\t} else if (a < b) {\r\n\t\treturn COMPARE.LESS_THAN;\r\n\t} else {\r\n\t\treturn COMPARE.BIGGER_THAN;\r\n\t}\r\n}\r\n","/**\r\n * @Description:\r\n * @Author:  wuenyou\r\n * @Date: 2020/11/18\r\n * @LastEditors:\r\n * @LastEditTime: 2020/11/18\r\n */\r\nexport class Node {\r\n\tconstructor(element, next = null) {\r\n\t\tthis.element = element;\r\n\t\tthis.next = next;\r\n\t}\r\n\r\n}\r\n","/**\r\n * @Description:\r\n * @Author:  wuenyou\r\n * @Date: 2020/11/18\r\n * @LastEditors:\r\n * @LastEditTime: 2020/11/18\r\n */\r\nimport { defaultEquals } from \"./util.js\";\r\nimport { Node } from './Node.js'\r\n\r\nexport default class LinkedList {\r\n\tconstructor(equalsFn = defaultEquals) {\r\n\t\tthis.count = 0;\r\n\t\tthis.head = null;\r\n\t\tthis.equalsFn = equalsFn;\r\n\t}\r\n\tgetElementAt(position) {\r\n\t\tif(position >= 0 && position <= this.count) {\r\n\t\t\tlet node = this.head;\r\n\t\t\tfor (let i = 0; i < position && !!node; i++) {\r\n\t\t\t\tnode = node.next;\r\n\t\t\t}\r\n\t\t\treturn node;\r\n\t\t}\r\n\t\treturn undefined;\r\n\t}\r\n\tappend(element) {\r\n\t\tconst node = new Node(element);\r\n\t\tlet current = this.head;\r\n\t\tif(current == null) {\r\n\t\t\tthis.head = node;\r\n\t\t} else {\r\n\t\t\tcurrent = this.head;\r\n\t\t\twhile (current.next !=  null) {\r\n\t\t\t\tcurrent = current.next;\r\n\t\t\t}\r\n\t\t\tcurrent.next = node\r\n\t\t}\r\n\t\tthis.count++;\r\n\t\treturn element;\r\n\t}\r\n\tremoveAt(idx) {\r\n\t\tif (idx >= 0 && idx < this.count) {\r\n\t\t\tlet current = this.head;\r\n\t\t\tif (idx === 0) {\r\n\t\t\t\tthis.head = current.next;\r\n\t\t\t\tcurrent.next = null;\r\n\t\t\t} else {\r\n\t\t\t\tlet prev = this.getElementAt(idx - 1);\r\n\t\t\t\tcurrent = prev.next;\r\n\t\t\t\tprev.next = current.next;\r\n\t\t\t}\r\n\t\t\tthis.count--;\r\n\t\t\treturn current.element;\r\n\t\t}\r\n\t\treturn undefined;\r\n\t}\r\n\tinsert(element, position = 0, dir = 'before') {\r\n\t\tif (element === undefined) {\r\n\t\t\t throw Error('缺少需要插入的元素');\r\n\t\t\t return;\r\n\t\t}\r\n\t\tif (position >= this.count) {\r\n\t\t\treturn this.append(element);\r\n\t\t}\r\n\t\tconst node = new Node(element);\r\n\t\tconst targetNode = dir === 'before' ? this.getElementAt(position - 1) : this.getElementAt(position);\r\n\t\tif (!targetNode) {\r\n\t\t\tlet prev = this.head;\r\n\t\t\tthis.head = node;\r\n\t\t\tnode.next = prev;\r\n\t\t} else {\r\n\t\t\tlet next;\r\n\t\t\tnext = targetNode.next\r\n\t\t\ttargetNode.next = node;\r\n\t\t\tnode.next = next;\r\n\t\t}\r\n\t\tthis.count++;\r\n\t\treturn element;\r\n\t}\r\n\tinsertAfter(element, position) {\r\n\t\treturn this.insert(element, position, 'after');\r\n\t}\r\n\tsize() {\r\n\t\treturn this.count;\r\n\t}\r\n\tremove() {\r\n\t\treturn this.removeAt(this.size() - 1);\r\n\t}\r\n\tremoveAll() {\r\n\t\tthis.count = 0;\r\n\t\tthis.head = null;\r\n\t}\r\n\tindexOf(element) {\r\n\t\tlet result = -1;\r\n\t\tlet node = this.head;\r\n\t\tfor (let i = 0; i < this.count; i++) {\r\n\t\t\tif (this.equalsFn(element, node.element)) {\r\n\t\t\t\tresult = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tnode = node.next;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\tisEmpty() {\r\n\t\treturn this.size() === 0;\r\n\t}\r\n\tgetHead() {\r\n\t\treturn this.head;\r\n\t}\r\n\ttoString() {\r\n\t\tif(this.head == null) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\tlet node = this.head;\r\n\t\tlet objString = `,${node.element? JSON.stringify(node.element): node.element}`;\r\n\t\tfor (let i = 1; i < this.size(); i++) {\r\n\t\t\tobjString += `,${node.element? JSON.stringify(node.element): node.element}`;\r\n\t\t\tnode = node.next;\r\n\t\t}\r\n\t\treturn objString.substr(1);\r\n\t}\r\n}\r\n","/**\r\n * @Description:\r\n * @Author:  wuenyou\r\n * @Date: 2020/11/20\r\n * @LastEditors:\r\n * @LastEditTime: 2020/11/20\r\n */\r\nimport LinkedList from \"./LinkedList\";\r\nimport {defaultEquals} from \"./util\";\r\nimport {Node} from \"./Node\";\r\n\r\nexport default class CircularLinkedList extends LinkedList{\r\n\tconstructor(equalsFn = defaultEquals){\r\n\t\tsuper(equalsFn)\r\n\t}\r\n\tinsert(element, position = 0) {\r\n\t\tif (element === undefined) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet cur = this.head;\r\n\t\tlet node = new Node(element);\r\n\t\tif (!cur) {\r\n\t\t\tthis.head = node;\r\n\t\t\tnode.next = this.head\r\n\t\t} else if (position === 0) {\r\n\t\t\tlet lastNode = this.getElementAt(this.size() - 1);\r\n\t\t\tlet nextNode = this.head;\r\n\t\t\tthis.head = node;\r\n\t\t\tnode.next = nextNode;\r\n\t\t\tlastNode.next = node;\r\n\t\t} else {\r\n\t\t\tlet prev = this.getElementAt(position - 1);\r\n\t\t\tlet cur = prev.next;\r\n\t\t\tprev.next = node;\r\n\t\t\tnode.next = cur;\r\n\t\t}\r\n\t\tthis.count++;\r\n\t\treturn element;\r\n\t}\r\n\tappend(element){\r\n\t\tlet node = new Node(element);\r\n\t\tlet cur = this.head;\r\n\t\tif(element === undefined){\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tif(!cur) {\r\n\t\t\tthis.head = node;\r\n\t\t\tnode.next = this.head\r\n\t\t} else {\r\n\t\t\tlet cur = this.head;\r\n\t\t\tlet lastNode = this.getElementAt(this.size() - 1);\r\n\t\t\tlastNode.next = node;\r\n\t\t\tnode.next = cur;\r\n\t\t}\r\n\t\tthis.count++;\r\n\r\n\t\treturn element;\r\n\t}\r\n\tremoveAt(idx){\r\n\t\tif (idx >= 0 && idx < this.count) {\r\n\t\t\tlet current = this.head;\r\n\t\t\tif (idx === 0) {\r\n\t\t\t\tlet lastNode = this.getElementAt(this.size() - 1);\r\n\t\t\t\tthis.head = current.next;\r\n\t\t\t\tlastNode.next = current.next;\r\n\t\t\t} else {\r\n\t\t\t\tlet prev = this.getElementAt(idx - 1);\r\n\t\t\t\tcurrent = prev.next;\r\n\t\t\t\tprev.next = current.next;\r\n\t\t\t}\r\n\t\t\tthis.count--;\r\n\t\t\treturn current.element;\r\n\t\t}\r\n\t\treturn undefined;\r\n\t}\r\n}\r\n"],"names":["defaultEquals","a","b","Node","constructor","element","next","LinkedList","equalsFn","count","head","getElementAt","position","node","i","undefined","append","current","removeAt","idx","prev","insert","dir","Error","targetNode","insertAfter","size","remove","removeAll","indexOf","result","isEmpty","getHead","toString","objString","JSON","stringify","substr","CircularLinkedList","cur","lastNode","nextNode"],"mappings":"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"}